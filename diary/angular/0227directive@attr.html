<!DOCTYPE>
<html>
<head>
    <script src="./node_modules/angular/angular.min.js"></script>
    <script type="text/javascript">
        (function () {
            var app = angular.module('isoFnBindTest', []);

            app.controller('myController', ['$scope', function ($scope) {
                $scope.name = '';
                $scope.message = '';
                $scope.isHide = true;
                $scope.sayHello = function (message, name) {
                    $scope.isHide = false;
                    $scope.name = name;
                    $scope.message = message;
                    alert($scope.message + ',' + $scope.name);
                };
            }]);

            app.directive('myGreeting', function () {
                return {
                    restrict: 'E',
                    transclude: true,
                    scope: {
                        // Step 2: greet方法绑定到onGreet属性（对应Html中的on-greet），并将greet的输入参数传给onGreet
                        'greet': '&onGreet'
                    },
                    templateUrl: './angular.html'
                };
            });
        })();
    </script>
</head>
<body ng-app="isoFnBindTest">
    <div ng-controller="myController">
        <!-- Step 3： on-greet指向了myController中的sayHello方法，此时on-greet中能直接访问到greet的输入参数-->
        <my-greeting on-greet="sayHello(message, name)">
            <div ng-hide="isHide">
                {{message}}, {{name}}!
            </div>
        </my-greeting>
    </div>
</body>
</html>

 <!-- <div>
    pStep1: 一旦触发click， 将调用Isolate scope中的greet方法
   <button ng-click="greet({message: 'Hello', name: 'Tom'})">Click me!</button>
   <div ng-transclude></div>
 </div> -->
